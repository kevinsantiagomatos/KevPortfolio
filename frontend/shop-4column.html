<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <style>
            .suggestions-box {
              position: absolute;
              top: 100%; /* places it directly below the input */
              left: 0;
              width: 100%;
              background-color: white;
              border: 1px solid #ccc;
              border-top: none;
              z-index: 999;
              max-height: 250px;
              overflow-y: auto;
              box-shadow: 0px 4px 8px rgba(0,0,0,0.1);
              display: none; /* hidden by default */
            }
          
            .suggestions-box.active {
              display: block;
            }
          
            .suggestion-item {
              padding: 10px;
              cursor: pointer;
            }
          
            .suggestion-item:hover {
              background-color: #f0f0f0;
            }
          </style>
        <!--=====================================
                    META TAG PART START
        =======================================-->
        <!-- REQUIRE META -->
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- AUTHOR META -->
        <meta name="author" content="mironcoder">
        <meta name="email" content="mironcoder@gmail.com">
        <meta name="profile" content="https://themeforest.net/user/mironcoder">

        <!-- TEMPLATE META -->
        <meta name="name" content="Greeny">
        <meta name="title" content="Greeny - eCommerce HTML Template">
        <meta name="keywords" content="organic, food, shop, ecommerce, store, html, bootstrap, template, agriculture, vegetables, webshop, farm, grocery, natural, online store">
        <!--=====================================
                    META-TAG PART END
        =======================================-->

        <!-- WEBPAGE TITLE -->
        <title>Shop</title>

        <!--=====================================
                    CSS LINK PART START
        =======================================-->
        <!-- FAVICON -->
        <link rel="icon" href="{{url_for('static', filename='images/favicn.png')}}">

        <!-- FONTS -->
         <link rel="stylesheet" href="{{url_for('static', filename='fonts/flaticon/flaticon.css')}}">
        <link rel="stylesheet" href="{{url_for('static', filename='fonts/icofont/icofont.min.css')}}">
        <link rel="stylesheet" href="{{url_for('static', filename='fonts/fontawesome/fontawesome.min.css')}}">

        <!-- VENDOR -->
        <link rel="stylesheet" href="{{url_for('static', filename='vendor/venobox/venobox.min.css')}}">
        <link rel="stylesheet" href="{{url_for('static', filename='vendor/slickslider/slick.min.css')}}">
        <link rel="stylesheet" href="{{url_for('static', filename='vendor/niceselect/nice-select.min.css')}}">
        <link rel="stylesheet" href="{{url_for('static', filename='vendor/bootstrap/bootstrap.min.css')}}">

        <!-- CUSTOM -->
        <link rel="stylesheet" href="{{url_for('static', filename='css/main.css')}}">


        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
        <!--=====================================
                    CSS LINK PART END
        =======================================-->
    </head>
    <body ng-app="">
        <div class="backdrop"></div>
        <a class="backtop fas fa-arrow-up" href="#"></a>


    
        <!--=====================================
                    HEADER PART START
        =======================================-->

        <header class="header-part">
            <div class="container">
                <div class="header-content">
                    <div class="header-media-group">
                        <button class="header-user"><img src="static/images/user.png" alt="user"></button>
                        <a href="{{url_for('shop')}}"><img src="static/images/logo.png" alt="logo"></a>
                        <button class="header-src"><i class="fas fa-search"></i></button>
                    </div>

                    <a href="{{url_for('shop')}}" class="header-logo">
                        <img src="static/images/logoo.png" alt="logo">
                    </a>

                    {% if 'customer' in session %}
                    <ul class="dropdown">
                    <a class="navbar-link dropdown-arrow" href="#">Shop</a>
                                    <ul class="dropdown-position-list">
                                        <li><a href="{{url_for('profile')}}">Account Info</a></li>
                                        <li><a href="{{url_for('orders')}}">My Orders</a></li>
                                        <li><a href="{{url_for('clear')}}">Logout</a></li>
                                    </ul>
                    </ul>
                    {% else %}
                    <ul class="dropdown">
                    <a class="navbar-link " href="{{url_for('login')}}">Login</a>
                    </ul>
                    {% endif %}

                    <form class="header-form" action="/filter" method="GET" autocomplete="off">
                        <div class="search-container" style="position: relative;">
                          <input type="text" name="query" id="search-box" placeholder="Search products...">
                          <div id="suggestions" class="suggestions-box"></div>
                        </div>
                        <button type="submit" id="submit"><i class="fas fa-search"></i></button>
                      </form>

                    <div class="header-widget-group">

                        <button class="header-widget header-cart" title="Cartlist">
                            <i class="fas fa-shopping-basket"></i>
                            <sup>{{amount}}</sup>
                            <span>total price <small>${{ '%.2f' | format(total) }}</small></span>
                        </button>

                    </div>
                </div>
            </div>
        </header>
        <!--=====================================
                    HEADER PART END
        =======================================-->


        <!--=====================================
                  CART SIDEBAR PART START
        =======================================-->
        <aside class="cart-sidebar">
            <div class="cart-header">
                <div class="cart-total">
                    <i class="fas fa-shopping-basket"></i>
                    <span>total items ({{ session['amount'] }})</span>
                </div>
                <button class="cart-close"><i class="icofont-close"></i></button>
            </div>
            <ul class="cart-list">
                {% if session['cart'] %}
                    {% for key, item in session['cart'].items() %}
                    <li class="cart-item">
                        <div class="cart-media">
                            <a href="#"><img src="static/images/product-images/{{ item['image'] }}" alt="product"></a>
                            <form action="{{ url_for('delete', p_id=key) }}" method="get">
                                <button class="cart-delete"><i class="far fa-trash-alt"></i></button>
                            </form>
                        </div>
                        <div class="cart-info-group">
                            <div class="cart-info">
                                <h6><a href="product-single.html">{{ item['name'] }}</a></h6>
                                <p>Unit Price - ${{ item['price'] }}</p>
                            </div>
                            <div class="cart-action-group">
                                <form action="{{ url_for('editcart') }}" method="post">
                                    <input type="hidden" name="p_id" value="{{ key }}">
                                    <div class="product-action">
                                        <button type="button" class="action-minus" title="Quantity Minus" onclick="updateQuantity('minus', '{{ key }}')">
                                            <i class="icofont-minus"></i>
                                        </button>
                                        
                                        <input class="action-input" id="quantity_{{ key }}" title="Quantity Number" type="text" name="quantity" value="{{ item['quantity'] }}">
                                        
                                        <button type="button" class="action-plus" title="Quantity Plus" onclick="updateQuantity('plus', '{{ key }}')">
                                            <i class="icofont-plus"></i>
                                        </button>
                                    </div>
                                    <div class="view-action-group">
                                        <button type="submit" class="view-wish" title="Edit Cart">
                                            <i class="fas fa-shopping-cart"></i> Edit Cart
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </li>
                    {% endfor %}
                {% endif %}
            </ul>
            {% if session['cart'] %}
                <div class="cart-footer">
                    <a class="cart-checkout-btn" href="{{url_for('checkout')}}">
                        <span class="checkout-label">Proceed to Checkout</span>
                        <span class="checkout-price">${{ session['total'] }}</span>
                    </a>
                </div>
            {% endif %}
        </aside>

        <!--=====================================
                    CART SIDEBAR PART END
        =======================================-->


        <!--=====================================
                    BANNER PART START
        =======================================-->
        <section class="inner-section single-banner" style="background: url(static/images/banner.jpeg) no-repeat center;">
            <div class="container">
                <h2>LUCKY LURES</h2>
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="#"> </a></li>
                </ol>
            </div>
        </section>
        <!--=====================================
                    BANNER PART END
        =======================================-->


        <!--=====================================
                    SHOP PART START
        =======================================-->
        <section class="inner-section shop-part">
            <div class="container">
                <div class="row">

                    <div class="col-lg-3">
                        <div class="accordion" id="filterAccordion">
                    
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingSortBy">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSortBy" aria-expanded="true" aria-controls="collapseSortBy">
                                        Sort by
                                    </button>
                                </h2>
                                <div id="collapseSortBy" class="accordion-collapse collapse show" aria-labelledby="headingSortBy" data-bs-parent="#filterAccordion">
                                    <div class="accordion-body">
                                        <form action="/filter" method="get">
                                            <div class="shop-widget-group">
                                                <select name="sort_by" class="form-select">
                                                    <option value="price_asc">Price: Low to High</option>
                                                    <option value="price_desc">Price: High to Low</option>
                                                    <option value="name_asc">Name: A - Z</option>
                                                    <option value="name_desc">Name: Z - A</option>
                                                </select>
                                            </div>
                                            <button type="submit" class="shop-widget-btn">
                                                <i class="fas fa-search"></i>
                                                <span>Sort</span>
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                    
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingPrice">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapsePrice" aria-expanded="false" aria-controls="collapsePrice">
                                        Filter by Price
                                    </button>
                                </h2>
                                <div id="collapsePrice" class="accordion-collapse collapse" aria-labelledby="headingPrice" data-bs-parent="#filterAccordion">
                                    <div class="accordion-body">
                                        <form action="/filter" method="get">
                                            <div class="shop-widget-group">
                                                <input type="text" name="min_price" placeholder="Min - 00">
                                                <input type="text" name="max_price" placeholder="Max - 50">
                                            </div>
                                            <button type="submit" class="shop-widget-btn">
                                                <i class="fas fa-search"></i>
                                                <span>Search</span>
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                    
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingCategory">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCategory" aria-expanded="false" aria-controls="collapseCategory">
                                        Filter by Category
                                    </button>
                                </h2>
                                <div id="collapseCategory" class="accordion-collapse collapse" aria-labelledby="headingCategory" data-bs-parent="#filterAccordion">
                                    <div class="accordion-body">
                                        <form action="/filter" method="get">
                                            {% if categories %}
                                            <ul class="shop-widget-list">
                                                {% for category in categories %}
                                                <li>
                                                    <input type="checkbox" name="category" value="{{ category['category_id'] }}" id="category{{ loop.index }}">
                                                    <label for="category{{ loop.index }}">{{ category['category_name'] }}</label>
                                                </li>
                                                {% endfor %}
                                            </ul>
                                            {% endif %}
                                            <button type="submit" class="shop-widget-btn">
                                                <i class="fas fa-search"></i>
                                                <span>Search</span>
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingBrand">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseBrand" aria-expanded="false" aria-controls="collapseBrand">
                                        Filter by Brand
                                    </button>
                                </h2>
                                <div id="collapseBrand" class="accordion-collapse collapse" aria-labelledby="headingBrand" data-bs-parent="#filterAccordion">
                                    <div class="accordion-body">
                                        <form action="/filter" method="get">
                                            {% if brands %}
                                            <ul class="shop-widget-list">
                                                {% for brand in brands %}
                                                <li>
                                                    <input type="checkbox" name="brand" value="{{ brand['p_brand'] }}" id="brand{{ loop.index }}">
                                                    <label for="brand{{ loop.index }}">{{ brand['p_brand'] }}</label>
                                                </li>
                                                {% endfor %}
                                            </ul>
                                            {% endif %}
                                            <button type="submit" class="shop-widget-btn">
                                                <i class="fas fa-search"></i>
                                                <span>Search</span>
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                    
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingColor">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseColor" aria-expanded="false" aria-controls="collapseColor">
                                        Filter by Color
                                    </button>
                                </h2>
                                <div id="collapseColor" class="accordion-collapse collapse" aria-labelledby="headingColor" data-bs-parent="#filterAccordion">
                                    <div class="accordion-body">
                                        <form action="/filter" method="get">
                                            <ul class="shop-widget-list">
                                                {% for color in colors %}
                                                <li>
                                                    <input type="checkbox" name="color" value="{{ color['color'] }}" id="color{{ loop.index }}">
                                                    <label for="color{{ loop.index }}">{{ color['color'] }}</label>
                                                </li>
                                                {% endfor %}
                                            </ul>
                                            <button type="submit" class="shop-widget-btn">
                                                <i class="fas fa-search"></i>
                                                <span>Search</span>
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                    
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingBuoyancy">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseBuoyancy" aria-expanded="false" aria-controls="collapseBuoyancy">
                                        Filter by Buoyancy
                                    </button>
                                </h2>
                                <div id="collapseBuoyancy" class="accordion-collapse collapse" aria-labelledby="headingBuoyancy" data-bs-parent="#filterAccordion">
                                    <div class="accordion-body">
                                        <form action="/filter" method="get">
                                            {% if buoyancies %}
                                            <ul class="shop-widget-list">
                                                {% for buoyancy in buoyancies %}
                                                <li>
                                                    <input type="checkbox" name="buoyancy" value="{{ buoyancy['buoyancy'] }}" id="buoyancy{{ loop.index }}">
                                                    <label for="buoyancy{{ loop.index }}">{{ buoyancy['buoyancy'] }}</label>
                                                </li>
                                                {% endfor %}
                                            </ul>
                                            {% endif %}
                                            <button type="submit" class="shop-widget-btn">
                                                <i class="fas fa-search"></i>
                                                <span>Search</span>
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingLength">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseLength" aria-expanded="false" aria-controls="collapseLength">
                                        Filter by Length
                                    </button>
                                </h2>
                                <div id="collapseLength" class="accordion-collapse collapse" aria-labelledby="headingLength" data-bs-parent="#filterAccordion">
                                    <div class="accordion-body">
                                        <form action="/filter" method="get">
                                            <ul class="shop-widget-list">
                                                {% for length in lengths %}
                                                <li>
                                                    <input type="checkbox" name="length" value="{{ length['length'] }}" id="length{{ loop.index }}">
                                                    <label for="length{{ loop.index }}">{{ length['length'] }} cm</label>
                                                </li>
                                                {% endfor %}
                                            </ul>
                                            <button type="submit" class="shop-widget-btn">
                                                <i class="fas fa-search"></i>
                                                <span>Search</span>
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                    
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingWeight">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseWeight" aria-expanded="false" aria-controls="collapseWeight">
                                        Filter by Weight
                                    </button>
                                </h2>
                                <div id="collapseWeight" class="accordion-collapse collapse" aria-labelledby="headingWeight" data-bs-parent="#filterAccordion">
                                    <div class="accordion-body">
                                        <form action="/filter" method="get">
                                            <ul class="shop-widget-list">
                                                {% for weight in weights %}
                                                <li>
                                                    <input type="checkbox" name="weight" value="{{ weight['weight'] }}" id="weight{{ loop.index }}">
                                                    <label for="weight{{ loop.index }}">{{ weight['weight'] }} g</label>
                                                </li>
                                                {% endfor %}
                                            </ul>
                                            <button type="submit" class="shop-widget-btn">
                                                <i class="fas fa-search"></i>
                                                <span>Search</span>
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingHooks">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHooks" aria-expanded="false" aria-controls="collapseHooks">
                                        Filter by Hooks
                                    </button>
                                </h2>
                                <div id="collapseHooks" class="accordion-collapse collapse" aria-labelledby="headingHooks" data-bs-parent="#filterAccordion">
                                    <div class="accordion-body">
                                        <form action="/filter" method="get">
                                            <ul class="shop-widget-list">
                                                {% for hook in hooks %}
                                                <li>
                                                    <input type="checkbox" name="hooks" value="{{ hook['hooks'] }}" id="hooks{{ loop.index }}">
                                                    <label for="hooks{{ loop.index }}">{{ hook['hooks'] }} hooks</label>
                                                </li>
                                                {% endfor %}
                                            </ul>
                                            <button type="submit" class="shop-widget-btn">
                                                <i class="fas fa-search"></i>
                                                <span>Search</span>
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>

                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingMaterials">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseMaterials" aria-expanded="false" aria-controls="collapseMaterials">
                                        Filter by Material
                                    </button>
                                </h2>
                                <div id="collapseMaterials" class="accordion-collapse collapse" aria-labelledby="headingMaterials" data-bs-parent="#filterAccordion">
                                    <div class="accordion-body">
                                        <form action="/filter" method="get">
                                            <ul class="shop-widget-list">
                                                {% for material in materials %}
                                                <li>
                                                    <input type="checkbox" name="material" value="{{ material['material'] }}" id="materials{{ loop.index }}">
                                                    <label for="materials{{ loop.index }}">{{ material['material'] }}</label>
                                                </li>
                                                {% endfor %}
                                            </ul>
                                            <button type="submit" class="shop-widget-btn">
                                                <i class="fas fa-search"></i>
                                                <span>Search</span>
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                    
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingSearchAllFilters"></h2>
                                    <div class="accordion-body">
                                        <form id="allFiltersForm" action="/filter" method="get"></form>
                                        <button id="searchAllFilters" class="shop-widget-btn" type="submit" form="allFiltersForm">
                                            <i class="fas fa-search"></i>
                                            <span>Search All Filters</span>
                                        </button>
                                    </div>
                            </div>
                    
                        </div>
                    </div> 
        
                    <!-- Main Product Grid -->
                    <div class="col-lg-9">
                        <div class="row row-cols-2 row-cols-md-3 row-cols-lg-3 row-cols-xl-4 g-4">
                            {% for product in products %}
                            <div class="col">
                                <div class="product-card">
                                    <div class="product-media">
                                        <a class="product-image" href="static/images/product-images/{{ product['img'] }}">
                                            <img src="static/images/product-images/{{ product['img'] }}" alt="logo" class="img-fluid">
                                        </a>
                                        <div class="product-widget">
                                            <a title="Product View" href="#" class="fas fa-eye" data-bs-toggle="modal" data-bs-target="#product-view-{{ product['id'] }}"></a>
                                        </div>
                                    </div>
                                    <div class="product-content">
                                        <h6 class="product-name">
                                            <a href="product-video.html">{{ product['name'] }}</a>
                                        </h6>
                                        <h6 class="product-price">
                                            <span>${{ product['price'] }}</span>
                                        </h6>
                                        <button type="button" class="product-add" title="Add to Cart">
                                            <i class="fas fa-shopping-basket"></i>
                                            <span>add</span>
                                        </button>
                                        <div class="product-action">
                                            <form action="{{url_for('addcart')}}" method="post">
                                                <input style="width: 50%" class="action-input" title="Quantity Number" type="number" id="quantity" name="quantity" value="1" min="0">
                                                 <input type="hidden" id="p_id" name="p_id" value="{{product['id']}}">
                                                 <input type="hidden" id="name" name="name" value="{{product['name']}}">
                                                 <input type="hidden" id="price" name="price" value="{{product['price']}}">
                                                 <input type="hidden" id="cost" name="cost" value="{{product['cost']}}">
                                                 <input type="hidden" id="stock" name="stock" value="{{product['stock']}}">
                                                 <input type="hidden" id="brand" name="brand" value="{{product['brand']}}">
                                                 <input type="hidden" id="desc" name="desc" value="{{product['desc']}}">
                                                 <input type="hidden" id="image" name="image" value="{{product['img']}}">
                                                 <input type="hidden" id="buoyancy" name="buoyancy" value="{{product['buoyancy']}}">
 
 
                                                 <input style="width: 30%" type="submit" value="Add">
                                             </form>
                                         </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Product Modal -->
<div class="modal fade" id="product-view-{{product['id']}}">
    <div class="modal-dialog">
      <div class="modal-content" style="overflow: visible;">
        <button class="modal-close icofont-close" data-bs-dismiss="modal"></button>
        <div class="product-view">
          <div class="row">
            <div class="col-md-6 col-lg-6">
              <div class="view-gallery">
                <div class="view-label-group">
                  <label class="view-label new">{{product['stock']}} in stock</label>
                </div>
                <ul class="preview-slider">
                  <li><img class="img-fluid" src="static/images/product-images/{{product['img']}}" alt="product"></li>
                </ul>
              </div>
            </div>
  
            <div class="col-md-6 col-lg-6">
              <div class="view-details">
                <h3 class="view-name">
                  <a href="product-video.html">{{product['name']}}</a>
                </h3>
                <div class="view-meta">
                  <p>
                    Brand:<span>{{product['brand']}}</span><br>
                    Color:<span>{{product['color']}}</span><br>
                    Material:<span>{{product['material']}}</span><br>
                    Length:<span>{{product['length']}}cm</span><br>
                    Weight:<span>{{product['weight']}}g</span>
                  </p>
                </div>
                <h3 class="view-price"><span>${{product['price']}}</span></h3>
                <p class="view-desc">{{product['desc']}}</p>
  
                <!-- ✅ Form Start -->
                <form action="{{ url_for('addcart') }}" method="post" class="product-action">
                  <div style="display: flex; align-items: center; gap: 5px; margin-bottom: 1rem;">
                    <button type="button" class="action-minus" title="Quantity Minus">
                      <i class="fas fa-minus"></i>
                    </button>
                    <input style="width: 50px;" class="action-input" title="Quantity Number" type="number" name="quantity" value="1" min="1">
                    <button type="button" class="action-plus" title="Quantity Plus">
                      <i class="fas fa-plus"></i>
                    </button>
                  </div>
  
                  <button type="submit" class="product-add" title="Add to Cart" style="margin-top: 10px;">
                    <i class="fas fa-shopping-basket"></i>
                    <span>Add to cart</span>
                  </button>
  
                  <input type="hidden" name="p_id" value="{{ product['id'] }}">
                  <input type="hidden" name="name" value="{{ product['name'] }}">
                  <input type="hidden" name="price" value="{{ product['price'] }}">
                  <input type="hidden" name="cost" value="{{ product['cost'] }}">
                  <input type="hidden" name="stock" value="{{ product['stock'] }}">
                  <input type="hidden" name="brand" value="{{ product['brand'] }}">
                  <input type="hidden" name="desc" value="{{ product['desc'] }}">
                  <input type="hidden" name="image" value="{{ product['img'] }}">
                  <input type="hidden" name="buoyancy" value="{{ product['buoyancy'] }}">
                </form>
               
  
              </div> 
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
                            {% endfor %}
                        </div>
                    </div> 
                </div>
            </div>
        </section>
        <!--=====================================
                    SHOP PART END
        =======================================-->
        


         <!--=====================================
                     FOOTER PART START
        =======================================-->
        <footer style="background-color: whitesmoke" class="footer-part">
            <div class="container">
                <div class="row">
                    <div class="col-sm-6 col-xl-3">
                        <div class="footer-widget">
                            <a class="footer-logo" href="#">
                                <img src="{{url_for('static', filename='images/logoo.png')}}"  alt="logo">
                            </a>
                            <p class="footer-desc"></p>

                        </div>
                    </div>
                    <div class="col-sm-6 col-xl-3">
                        <div class="footer-widget contact">
                            <h3 class="footer-title">Contact us</h3>
                            <ul class="footer-contact">
                                <li>
                                    <i class="icofont-ui-email"></i>
                                    <p>
                                        <span>daniel.lopez27@upr.edu</span>
                                        <span>kevin.santiago33@upr.edu</span>
                                        <span>efrain.santiago13@upr.edu</span>
                                        <span>mario.rios3@upr.edu</span>
                                    </p>
                                </li>
                                <li>
                                    <i class="icofont-ui-touch-phone"></i>
                                    <p>
                                        <span>(939) - 262 - 2607</span>
                                        
                                    </p>
                                </li>

                            </ul>
                        </div>
                    </div>
                    <div class="col-sm-6 col-xl-3">
                        <div class="footer-widget">
                            <h3 class="footer-title">Follow Us</h3>
                            <div class="footer-links">
                                <ul>
                                    <li><a href="https://github.com/CCOM-UPRA">Facebook</a></li>
                                    <li><a href="http://upra.edu/">Instagram</a></li>
                                    <li><a href="https://cursos.upra.edu/course/search.php?areaids=core_course-course&q=ccom4115-ME5">Twitter</a></li>
                                </ul>
                                <ul>
                                    <li><a href="https://www.youtube.com/watch?v=Z1RJmh_OqeA">Reddit</a></li>
                                    <li><a href="https://www.youtube.com/watch?v=qz0aGYrrlhU">TikTok</a></li>
                                </ul>   
                            </div>
                        </div>
                    </div>
                    
                    </div>
                </div>
                <br>
            </div>
        </footer>
        <!--=====================================
                      FOOTER PART END
        =======================================-->
        

        <!--=====================================
                    JS LINK PART START
        =======================================-->
        <!-- VENDOR -->
        <script src="{{url_for('static', filename='vendor/bootstrap/jquery-1.12.4.min.js')}}"></script>
        <script src="{{url_for('static', filename='vendor/bootstrap/popper.min.js')}}"></script>
        <script src="{{url_for('static', filename='vendor/bootstrap/bootstrap.min.js')}}"></script>
        <script src="{{url_for('static', filename='vendor/countdown/countdown.min.js')}}"></script>
        <script src="{{url_for('static', filename='vendor/niceselect/nice-select.min.js')}}"></script>
        <script src="{{url_for('static', filename='vendor/slickslider/slick.min.js')}}"></script>
        <script src="{{url_for('static', filename='vendor/venobox/venobox.min.js')}}"></script>

        <!-- CUSTOM -->
        <script src="{{url_for('static', filename='js/nice-select.js')}}"></script>
        <script src="{{url_for('static', filename='js/countdown.js')}}"></script>
        <script src="{{url_for('static', filename='js/accordion.js')}}"></script>
        <script src="{{url_for('static', filename='js/venobox.js')}}"></script>
        <script src="{{url_for('static', filename='js/slick.js')}}"></script>
        <script src="{{url_for('static', filename='js/main.js')}}"></script>

        <script>
        function myFunc(e){
       e.preventDefault();
         }
        </script>

        <script>
            window.onload = function(){
                document.getElementById('submit').onclick = function(){
                    document.getElementById('quantity').value = document.getElementById('quantity1').value;
            };
        }
        </script>

        <script>
            function onlyOne(checkbox) {
            var checkboxes = document.getElementsByName('check')
            checkboxes.forEach((item) => {
                if (item !== checkbox) item.checked = false
            })
        }
        </script>
        
        <script>
            document.getElementById("searchAllFilters").addEventListener("click", function (event) {
                event.preventDefault(); // Prevents immediate submission
            
                let allFiltersForm = document.getElementById("allFiltersForm");
                allFiltersForm.innerHTML = ""; // Clear previous values
            
                // Get all selected filter inputs
                let inputs = document.querySelectorAll("input[name]:checked, input[name][type='text']");
            
                inputs.forEach(input => {
                    let newInput = document.createElement("input");
                    newInput.type = "hidden";
                    newInput.name = input.name;
                    newInput.value = input.value;
                    allFiltersForm.appendChild(newInput);
                });
            
                // Submit the form with all filters included
                allFiltersForm.submit();
            });
            </script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
      const accordionItems = document.querySelectorAll('.accordion-button');
      
      
      accordionItems.forEach(item => {
        if (!item.classList.contains('collapsed')) {
          item.classList.add('collapsed');
        }
      });
  
      const accordionCollapseItems = document.querySelectorAll('.accordion-collapse');
      accordionCollapseItems.forEach(item => {
        item.classList.remove('show');
      });
    });
  </script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
    const input = document.getElementById("search-box");
    const suggestionsBox = document.getElementById("suggestions");
    const formContainer = document.querySelector(".search-container");

    input.addEventListener("input", () => {
        const query = input.value.trim();

        if (query.length === 0) {
            suggestionsBox.classList.remove("active");
            suggestionsBox.innerHTML = "";
            return;
        }

        fetch(`/autocomplete?q=${encodeURIComponent(query)}`)
            .then(res => res.json())
            .then(data => {
                if (data.length === 0) {
                    suggestionsBox.classList.remove("active");
                    suggestionsBox.innerHTML = "";
                    return;
                }

                suggestionsBox.innerHTML = data.map(name =>
                    `<div class="suggestion-item" onclick="selectSuggestion('${name}')">${name}</div>`
                ).join("");
                suggestionsBox.classList.add("active");
            })
            .catch(error => {
                console.error("Autocomplete error:", error);
                suggestionsBox.classList.remove("active");
            });
    });

    window.selectSuggestion = function (name) {
        input.value = name;
        suggestionsBox.innerHTML = "";
        suggestionsBox.classList.remove("active");
        // document.querySelector(".header-form").submit(); // optional
    };

    // Hide when clicking outside
    document.addEventListener("click", function (e) {
        if (!formContainer.contains(e.target)) {
            suggestionsBox.classList.remove("active");
        }
    });
});
    </script>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        document.querySelectorAll('.product-action').forEach(action => {
            const minusBtn = action.querySelector('.action-minus');
            const plusBtn = action.querySelector('.action-plus');
            const quantityInput = action.querySelector('.action-input');
    
            minusBtn.addEventListener('click', () => {
                let value = parseInt(quantityInput.value) || 1;
                if (value > 1) quantityInput.value = value - 1;
            });
    
            plusBtn.addEventListener('click', () => {
                let value = parseInt(quantityInput.value) || 1;
                quantityInput.value = value + 1;
            });
        });
    });
    </script>
    </body>
    
</html>
